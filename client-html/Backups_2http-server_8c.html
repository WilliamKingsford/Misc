<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: seafile-4.1.2/server/Backups/http-server.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">seafile-4.1.2/server/Backups/http-server.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;common.h&quot;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;jansson.h&gt;</code><br/>
<code>#include &lt;locale.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;event.h&gt;</code><br/>
<code>#include &lt;evhtp.h&gt;</code><br/>
<code>#include &quot;utils.h&quot;</code><br/>
<code>#include &quot;log.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="http-server_8h_source.html">http-server.h</a>&quot;</code><br/>
<code>#include &quot;seafile-session.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="diff-simple_8h_source.html">diff-simple.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="merge-new_8h_source.html">merge-new.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="seaf-db_8h_source.html">seaf-db.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="access-file_8h_source.html">access-file.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="upload-file_8h_source.html">upload-file.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="fileserver-config_8h_source.html">fileserver-config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="http-status-codes_8h_source.html">http-status-codes.h</a>&quot;</code><br/>
</div>
<p><a href="Backups_2http-server_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__HttpServer.html">_HttpServer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTokenInfo.html">TokenInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPermInfo.html">PermInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVirRepoInfo.html">VirRepoInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFsHdr.html">FsHdr</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structRepoEventData.html">RepoEventData</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#afe7821e3ec7dbaff627162ee9d8987f9">DEFAULT_BIND_HOST</a>&#160;&#160;&#160;&quot;0.0.0.0&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a1ba171f6d63027723a817968beec0987">DEFAULT_BIND_PORT</a>&#160;&#160;&#160;8082</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#af3f16d9b8a1ac1802eea6524155052c9">DEFAULT_THREADS</a>&#160;&#160;&#160;50</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#ad2c9f09a8048148dda617d4c9b314d61">DEFAULT_MAX_DOWNLOAD_DIR_SIZE</a>&#160;&#160;&#160;100 * ((gint64)1 &lt;&lt; 20) /* 100MB */</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#abbbcf3c42c997889127cc676754a6fea">HOST</a>&#160;&#160;&#160;&quot;host&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a614217d263be1fb1a5f76e2ff7be19a2">PORT</a>&#160;&#160;&#160;&quot;port&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#abe9e307abf09ee81a0845a281bd862d9">INIT_INFO</a>&#160;&#160;&#160;&quot;If you see this page, <a class="el" href="fs-mgr_8h.html#aa717065fd2773cd641f5bd97d3474ce6">Seafile</a> HTTP syncing component works.&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#ad34386a1c00776bdbabb91bad0d66caa">PROTO_VERSION</a>&#160;&#160;&#160;&quot;{\&quot;<a class="el" href="block-tx-utils_8h.html#a1abe2c64ac9f8bc05bbb1719cad360f3">version</a>\&quot;: 1}&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a037612fec9c7bb03724d482b4b69d359">CLEANING_INTERVAL_SEC</a>&#160;&#160;&#160;300	/* 5 minutes */</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a5aea45ac5b39f9228b88fbf4e736caba">TOKEN_EXPIRE_TIME</a>&#160;&#160;&#160;7200	    /* 2 hours */</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#aaea8704424b583816bb6fe6e6bcb4c4c">PERM_EXPIRE_TIME</a>&#160;&#160;&#160;7200       /* 2 hours */</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#abcf9feee06175b3e483d0a147914d049">VIRINFO_EXPIRE_TIME</a>&#160;&#160;&#160;7200       /* 2 hours */</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a2533c727b20aa2e442d550ec2737535e">MAX_RETRY_COUNT</a>&#160;&#160;&#160;3</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a67b56a4c47906fef2dce1f0eb13c6895">MAX_OBJECT_PACK_SIZE</a>&#160;&#160;&#160;(1 &lt;&lt; 20) /* 1MB */</td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__HttpServer.html">_HttpServer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a11a447fee7e037e3114267d148b98a7b">HttpServer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structTokenInfo.html">TokenInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a549d60f9fb05a6971107ef6ec62eec9f">TokenInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structPermInfo.html">PermInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a2883e20df2d54ff078413b9e03bf428a">PermInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structVirRepoInfo.html">VirRepoInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a863b52fe782a95b13b80aa64b25e13d8">VirRepoInfo</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structFsHdr.html">FsHdr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a9b58b9de593f3135a7527df6d73a767a">__attribute__</a> ((__packed__))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a0e368fe95037387931b42d2cad277573">get_client_ip_addr</a> (evhtp_request_t *req)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="http-server_8h.html#a81f8d75914491586e9ea5ada168a8d54">HttpServerStruct</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#af79b84fbd5de27ce789bbff6b8b3337e">seaf_http_server_new</a> (struct <a class="el" href="struct__SeafileSession.html">_SeafileSession</a> *<a class="el" href="ccnet-server_8c.html#af241ba8540cd17c31a02b56c2aaa126c">session</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#af1c09217fc516ad3520c81478048198a">seaf_http_server_start</a> (<a class="el" href="http-server_8h.html#a81f8d75914491586e9ea5ada168a8d54">HttpServerStruct</a> *server)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a4b50fa8bc6c458c1a5bdc640cc71b6cb">seaf_http_server_invalidate_tokens</a> (<a class="el" href="http-server_8h.html#a81f8d75914491586e9ea5ada168a8d54">HttpServerStruct</a> *htp_server, const GList *tokens)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#aeab68f17dc686a2f7dc72ab2b712e464">__attribute__</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#acdc8b2e33d61c23557d7e7563f00ef6f">obj_id</a> [40]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">guint32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a48d5525cc0661b05873ab55417354ca7">obj_size</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a43fd2b6de520d8bb37b7963c0093507a">CheckExistType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#aa2c2bbcd9447c8c9b4cd1e89d5022f71">GET_PROTO_PATH</a> = &quot;/protocol-<a class="el" href="block-tx-utils_8h.html#a1abe2c64ac9f8bc05bbb1719cad360f3">version</a>&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#aa220aa9bfa38a52f7c855200d0fe67bb">OP_PERM_CHECK_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/permission-check/.*&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a277982a20927d0a56ed7c6c3818ee1af">GET_CHECK_QUOTA_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/quota-check/.*&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#af8eec15577a16dde0103d5621bf606cf">HEAD_COMMIT_OPER_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/commit/HEAD&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a34729fab17cab3850072bf56ce4965f4">COMMIT_OPER_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/commit/[\\da-z]{40}&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#ab5d529b8fc16adebc41c46c9603ca2bd">PUT_COMMIT_INFO_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/commit/[\\da-z]{40}&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a75e15467a8501dcfa00f48ff51f82a90">GET_FS_OBJ_ID_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/fs-id-list/.*&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a2f093c6bf981c7eff48098526b684422">BLOCK_OPER_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/block/[\\da-z]{40}&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a8b36e7712d1d7a33e734adb204acd700">POST_CHECK_FS_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/check-fs&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#af7553a24748073ddd62bf1f28c81ed1f">POST_CHECK_BLOCK_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/check-blocks&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a5f5a1a8f7ed7fe67502314bedff2100c">POST_RECV_FS_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/recv-fs&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Backups_2http-server_8c.html#a5c0e2b168fdd65e16a085320e8aaab4c">POST_PACK_FS_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/pack-fs&quot;</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a037612fec9c7bb03724d482b4b69d359"></a><!-- doxytag: member="http&#45;server.c::CLEANING_INTERVAL_SEC" ref="a037612fec9c7bb03724d482b4b69d359" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#a037612fec9c7bb03724d482b4b69d359">CLEANING_INTERVAL_SEC</a>&#160;&#160;&#160;300	/* 5 minutes */</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00042">42</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="afe7821e3ec7dbaff627162ee9d8987f9"></a><!-- doxytag: member="http&#45;server.c::DEFAULT_BIND_HOST" ref="afe7821e3ec7dbaff627162ee9d8987f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#afe7821e3ec7dbaff627162ee9d8987f9">DEFAULT_BIND_HOST</a>&#160;&#160;&#160;&quot;0.0.0.0&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00031">31</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1ba171f6d63027723a817968beec0987"></a><!-- doxytag: member="http&#45;server.c::DEFAULT_BIND_PORT" ref="a1ba171f6d63027723a817968beec0987" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#a1ba171f6d63027723a817968beec0987">DEFAULT_BIND_PORT</a>&#160;&#160;&#160;8082</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00032">32</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad2c9f09a8048148dda617d4c9b314d61"></a><!-- doxytag: member="http&#45;server.c::DEFAULT_MAX_DOWNLOAD_DIR_SIZE" ref="ad2c9f09a8048148dda617d4c9b314d61" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#ad2c9f09a8048148dda617d4c9b314d61">DEFAULT_MAX_DOWNLOAD_DIR_SIZE</a>&#160;&#160;&#160;100 * ((gint64)1 &lt;&lt; 20) /* 100MB */</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00034">34</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="af3f16d9b8a1ac1802eea6524155052c9"></a><!-- doxytag: member="http&#45;server.c::DEFAULT_THREADS" ref="af3f16d9b8a1ac1802eea6524155052c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#af3f16d9b8a1ac1802eea6524155052c9">DEFAULT_THREADS</a>&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00033">33</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="abbbcf3c42c997889127cc676754a6fea"></a><!-- doxytag: member="http&#45;server.c::HOST" ref="abbbcf3c42c997889127cc676754a6fea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#abbbcf3c42c997889127cc676754a6fea">HOST</a>&#160;&#160;&#160;&quot;host&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00036">36</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="abe9e307abf09ee81a0845a281bd862d9"></a><!-- doxytag: member="http&#45;server.c::INIT_INFO" ref="abe9e307abf09ee81a0845a281bd862d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#abe9e307abf09ee81a0845a281bd862d9">INIT_INFO</a>&#160;&#160;&#160;&quot;If you see this page, <a class="el" href="fs-mgr_8h.html#aa717065fd2773cd641f5bd97d3474ce6">Seafile</a> HTTP syncing component works.&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00039">39</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a67b56a4c47906fef2dce1f0eb13c6895"></a><!-- doxytag: member="http&#45;server.c::MAX_OBJECT_PACK_SIZE" ref="a67b56a4c47906fef2dce1f0eb13c6895" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#a67b56a4c47906fef2dce1f0eb13c6895">MAX_OBJECT_PACK_SIZE</a>&#160;&#160;&#160;(1 &lt;&lt; 20) /* 1MB */</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l01556">1556</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2533c727b20aa2e442d550ec2737535e"></a><!-- doxytag: member="http&#45;server.c::MAX_RETRY_COUNT" ref="a2533c727b20aa2e442d550ec2737535e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="repo-op_8c.html#a2533c727b20aa2e442d550ec2737535e">MAX_RETRY_COUNT</a>&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aaea8704424b583816bb6fe6e6bcb4c4c"></a><!-- doxytag: member="http&#45;server.c::PERM_EXPIRE_TIME" ref="aaea8704424b583816bb6fe6e6bcb4c4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#aaea8704424b583816bb6fe6e6bcb4c4c">PERM_EXPIRE_TIME</a>&#160;&#160;&#160;7200       /* 2 hours */</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00044">44</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a614217d263be1fb1a5f76e2ff7be19a2"></a><!-- doxytag: member="http&#45;server.c::PORT" ref="a614217d263be1fb1a5f76e2ff7be19a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#a614217d263be1fb1a5f76e2ff7be19a2">PORT</a>&#160;&#160;&#160;&quot;port&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00037">37</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad34386a1c00776bdbabb91bad0d66caa"></a><!-- doxytag: member="http&#45;server.c::PROTO_VERSION" ref="ad34386a1c00776bdbabb91bad0d66caa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#ad34386a1c00776bdbabb91bad0d66caa">PROTO_VERSION</a>&#160;&#160;&#160;&quot;{\&quot;<a class="el" href="block-tx-utils_8h.html#a1abe2c64ac9f8bc05bbb1719cad360f3">version</a>\&quot;: 1}&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00040">40</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5aea45ac5b39f9228b88fbf4e736caba"></a><!-- doxytag: member="http&#45;server.c::TOKEN_EXPIRE_TIME" ref="a5aea45ac5b39f9228b88fbf4e736caba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="web-accesstoken-mgr_8c.html#a5aea45ac5b39f9228b88fbf4e736caba">TOKEN_EXPIRE_TIME</a>&#160;&#160;&#160;7200	    /* 2 hours */</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00043">43</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="abcf9feee06175b3e483d0a147914d049"></a><!-- doxytag: member="http&#45;server.c::VIRINFO_EXPIRE_TIME" ref="abcf9feee06175b3e483d0a147914d049" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="http-server_8c.html#abcf9feee06175b3e483d0a147914d049">VIRINFO_EXPIRE_TIME</a>&#160;&#160;&#160;7200       /* 2 hours */</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00045">45</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a11a447fee7e037e3114267d148b98a7b"></a><!-- doxytag: member="http&#45;server.c::HttpServer" ref="a11a447fee7e037e3114267d148b98a7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__HttpServer.html">_HttpServer</a> <a class="el" href="Backups_2http-server_8c.html#a11a447fee7e037e3114267d148b98a7b">HttpServer</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00065">65</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2883e20df2d54ff078413b9e03bf428a"></a><!-- doxytag: member="http&#45;server.c::PermInfo" ref="a2883e20df2d54ff078413b9e03bf428a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structPermInfo.html">PermInfo</a>  <a class="el" href="structPermInfo.html">PermInfo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a549d60f9fb05a6971107ef6ec62eec9f"></a><!-- doxytag: member="http&#45;server.c::TokenInfo" ref="a549d60f9fb05a6971107ef6ec62eec9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structTokenInfo.html">TokenInfo</a>  <a class="el" href="structTokenInfo.html">TokenInfo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a863b52fe782a95b13b80aa64b25e13d8"></a><!-- doxytag: member="http&#45;server.c::VirRepoInfo" ref="a863b52fe782a95b13b80aa64b25e13d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structVirRepoInfo.html">VirRepoInfo</a>  <a class="el" href="structVirRepoInfo.html">VirRepoInfo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a9b58b9de593f3135a7527df6d73a767a"></a><!-- doxytag: member="http&#45;server.c::__attribute__" ref="a9b58b9de593f3135a7527df6d73a767a" args="((__packed__))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structFsHdr.html">FsHdr</a> <a class="el" href="struct____attribute____.html">__attribute__</a> </td>
          <td>(</td>
          <td class="paramtype">(__packed__)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00086">86</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>
<div class="fragment"><pre class="fragment">                            {
    CHECK_FS_EXIST,
    CHECK_BLOCK_EXIST
} <a class="code" href="Backups_2http-server_8c.html#a43fd2b6de520d8bb37b7963c0093507a">CheckExistType</a>;
</pre></div>
</div>
</div>
<a class="anchor" id="a0e368fe95037387931b42d2cad277573"></a><!-- doxytag: member="http&#45;server.c::get_client_ip_addr" ref="a0e368fe95037387931b42d2cad277573" args="(evhtp_request_t *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="http-server_8c.html#a0e368fe95037387931b42d2cad277573">get_client_ip_addr</a> </td>
          <td>(</td>
          <td class="paramtype">evhtp_request_t *&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00471">471</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> <span class="keywordtype">char</span> *xff = evhtp_kv_find (req-&gt;headers_in, <span class="stringliteral">&quot;X-Forwarded-For&quot;</span>);
    <span class="keywordflow">if</span> (xff) {
        <span class="keyword">struct </span>in_addr addr;
        <span class="keyword">const</span> <span class="keywordtype">char</span> *comma = strchr (xff, <span class="charliteral">&#39;,&#39;</span>);
        <span class="keywordtype">char</span> *copy;
        <span class="keywordflow">if</span> (comma)
            copy = g_strndup(xff, comma-xff);
        <span class="keywordflow">else</span>
            copy = g_strdup(xff);
        <span class="keywordflow">if</span> (evutil_inet_pton (AF_INET, copy, &amp;addr) == 0)
            <span class="keywordflow">return</span> copy;
        g_free (copy);
    }

    evhtp_connection_t *conn = req-&gt;conn;
    <span class="keywordtype">char</span> ip_addr[17];
    <span class="keyword">const</span> <span class="keywordtype">char</span> *ip = NULL;
    <span class="keyword">struct </span>sockaddr_in *addr_in = (<span class="keyword">struct </span>sockaddr_in *)conn-&gt;saddr;

    memset (ip_addr, <span class="charliteral">&#39;\0&#39;</span>, 17);
    ip = evutil_inet_ntop (AF_INET, &amp;addr_in-&gt;sin_addr, ip_addr, 16);

    <span class="keywordflow">return</span> g_strdup (ip);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4b50fa8bc6c458c1a5bdc640cc71b6cb"></a><!-- doxytag: member="http&#45;server.c::seaf_http_server_invalidate_tokens" ref="a4b50fa8bc6c458c1a5bdc640cc71b6cb" args="(HttpServerStruct *htp_server, const GList *tokens)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="http-server_8h.html#a4b50fa8bc6c458c1a5bdc640cc71b6cb">seaf_http_server_invalidate_tokens</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="http-server_8h.html#a81f8d75914491586e9ea5ada168a8d54">HttpServerStruct</a> *&#160;</td>
          <td class="paramname"><em>htp_server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const GList *&#160;</td>
          <td class="paramname"><em>tokens</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l01876">1876</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">const</span> GList *p;

    pthread_mutex_lock (&amp;htp_server-&gt;<a class="code" href="struct__HttpServerStruct.html#af41ada45b9ac4516637bf8ecea9b47d7">priv</a>-&gt;<a class="code" href="struct__HttpServer.html#ad60f82da8ae607a29367962b761e89f0">token_cache_lock</a>);
    <span class="keywordflow">for</span> (p = tokens; p; p = p-&gt;next) {
        <span class="keyword">const</span> <span class="keywordtype">char</span> *token = (<span class="keywordtype">char</span> *)p-&gt;data;
        g_hash_table_remove (htp_server-&gt;<a class="code" href="struct__HttpServerStruct.html#af41ada45b9ac4516637bf8ecea9b47d7">priv</a>-&gt;<a class="code" href="struct__HttpServer.html#a70330110579d73ad73a22a39cf4861bc">token_cache</a>, token);
    }
    pthread_mutex_unlock (&amp;htp_server-&gt;<a class="code" href="struct__HttpServerStruct.html#af41ada45b9ac4516637bf8ecea9b47d7">priv</a>-&gt;<a class="code" href="struct__HttpServer.html#ad60f82da8ae607a29367962b761e89f0">token_cache_lock</a>);
    <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af79b84fbd5de27ce789bbff6b8b3337e"></a><!-- doxytag: member="http&#45;server.c::seaf_http_server_new" ref="af79b84fbd5de27ce789bbff6b8b3337e" args="(struct _SeafileSession *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http-server_8h.html#a81f8d75914491586e9ea5ada168a8d54">HttpServerStruct</a>* <a class="el" href="http-server_8h.html#af79b84fbd5de27ce789bbff6b8b3337e">seaf_http_server_new</a> </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__SeafileSession.html">_SeafileSession</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l01830">1830</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="struct__HttpServerStruct.html">HttpServerStruct</a> *server = g_new0 (<a class="code" href="struct__HttpServerStruct.html">HttpServerStruct</a>, 1);
    <a class="code" href="struct__HttpServer.html">HttpServer</a> *<a class="code" href="monitor-tool_8c.html#a694b59386a408403dbb70994ed5beaa1">priv</a> = g_new0 (<a class="code" href="struct__HttpServer.html">HttpServer</a>, 1);

    priv-&gt;<a class="code" href="struct__HttpServer.html#a612bb415fe258cb3b0e27d070215f701">evbase</a> = NULL;
    priv-&gt;<a class="code" href="struct__HttpServer.html#a653a5a8d19d17d4f8724f16ffd489e68">evhtp</a> = NULL;

    load_http_config (server, session);

    priv-&gt;<a class="code" href="struct__HttpServer.html#a70330110579d73ad73a22a39cf4861bc">token_cache</a> = g_hash_table_new_full (g_str_hash, g_str_equal,
                                               g_free, token_cache_value_free);
    pthread_mutex_init (&amp;priv-&gt;<a class="code" href="struct__HttpServer.html#ad60f82da8ae607a29367962b761e89f0">token_cache_lock</a>, NULL);

    priv-&gt;<a class="code" href="struct__HttpServer.html#a0b129853c5b1220cd498fac861c2ec06">perm_cache</a> = g_hash_table_new_full (g_str_hash, g_str_equal,
                                              g_free, perm_cache_value_free);
    pthread_mutex_init (&amp;priv-&gt;<a class="code" href="struct__HttpServer.html#ab8e4b4a89c4d7cd32b94716a8abc9128">perm_cache_lock</a>, NULL);

    priv-&gt;<a class="code" href="struct__HttpServer.html#a8b68341bb0ce4964f4bd422a3b992aeb">vir_repo_info_cache</a> = g_hash_table_new_full (g_str_hash, g_str_equal,
                                                       g_free, free_vir_repo_info);
    pthread_mutex_init (&amp;priv-&gt;<a class="code" href="struct__HttpServer.html#a2d1d76e5002eb6c7a447d5d6a524db35">vir_repo_info_cache_lock</a>, NULL);

    server-&gt;<a class="code" href="struct__HttpServerStruct.html#a0e1c7c1fabfed904347ece3945316f96">http_temp_dir</a> = g_build_filename (session-&gt;<a class="code" href="struct__SeafileSession.html#ae4df188e5674e3e4b405f14d0ee1bf9f">seaf_dir</a>, <span class="stringliteral">&quot;httptemp&quot;</span>, NULL);

    server-&gt;<a class="code" href="struct__HttpServerStruct.html#a06ebfdae3b0790428e63b6bf892381b4">seaf_session</a> = <a class="code" href="cluster-mgr_8c.html#af241ba8540cd17c31a02b56c2aaa126c">session</a>;
    server-&gt;<a class="code" href="struct__HttpServerStruct.html#af41ada45b9ac4516637bf8ecea9b47d7">priv</a> = <a class="code" href="monitor-tool_8c.html#a694b59386a408403dbb70994ed5beaa1">priv</a>;

    <span class="keywordflow">return</span> server;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af1c09217fc516ad3520c81478048198a"></a><!-- doxytag: member="http&#45;server.c::seaf_http_server_start" ref="af1c09217fc516ad3520c81478048198a" args="(HttpServerStruct *server)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="http-server_8h.html#a68ff898c4f3cbda00bd4aca50990deb5">seaf_http_server_start</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="http-server_8h.html#a81f8d75914491586e9ea5ada168a8d54">HttpServerStruct</a> *&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l01861">1861</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    server-&gt;<a class="code" href="struct__HttpServerStruct.html#af41ada45b9ac4516637bf8ecea9b47d7">priv</a>-&gt;<a class="code" href="struct__HttpServer.html#a9fad7ee8ba73115c2674c3563428584a">cevent_id</a> = <a class="code" href="cevent_8h.html#a2f0a51bf288caadf31944a151462e78c">cevent_manager_register</a> (<a class="code" href="seaf-daemon_8c.html#ae66636d1834d105bd51d89ff01acfe15">seaf</a>-&gt;<a class="code" href="struct__SeafileSession.html#a7321aeb5c752d434ccb1b94bec6c9624">ev_mgr</a>,
                                    (<a class="code" href="cevent_8h.html#a35a26a54b6bed4c83fceb4b828c50a92">cevent_handler</a>)publish_repo_event,
                                                       NULL);

   <span class="keywordtype">int</span> ret = pthread_create (&amp;server-&gt;<a class="code" href="struct__HttpServerStruct.html#af41ada45b9ac4516637bf8ecea9b47d7">priv</a>-&gt;<a class="code" href="struct__HttpServer.html#ab4a02170687fdbac4208dbb57846f6a0">thread_id</a>, NULL, http_server_run, server);
   <span class="keywordflow">if</span> (ret != 0)
       <span class="keywordflow">return</span> -1;

   pthread_detach (server-&gt;<a class="code" href="struct__HttpServerStruct.html#af41ada45b9ac4516637bf8ecea9b47d7">priv</a>-&gt;<a class="code" href="struct__HttpServer.html#ab4a02170687fdbac4208dbb57846f6a0">thread_id</a>);
   <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="aeab68f17dc686a2f7dc72ab2b712e464"></a><!-- doxytag: member="http&#45;server.c::__attribute__" ref="aeab68f17dc686a2f7dc72ab2b712e464" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef    <a class="el" href="struct____attribute____.html">__attribute__</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2f093c6bf981c7eff48098526b684422"></a><!-- doxytag: member="http&#45;server.c::BLOCK_OPER_REGEX" ref="a2f093c6bf981c7eff48098526b684422" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#a2f093c6bf981c7eff48098526b684422">BLOCK_OPER_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/block/[\\da-z]{40}&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00100">100</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a43fd2b6de520d8bb37b7963c0093507a"></a><!-- doxytag: member="http&#45;server.c::CheckExistType" ref="a43fd2b6de520d8bb37b7963c0093507a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http-server_8c.html#a43fd2b6de520d8bb37b7963c0093507a">CheckExistType</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00091">91</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a34729fab17cab3850072bf56ce4965f4"></a><!-- doxytag: member="http&#45;server.c::COMMIT_OPER_REGEX" ref="a34729fab17cab3850072bf56ce4965f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#a34729fab17cab3850072bf56ce4965f4">COMMIT_OPER_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/commit/[\\da-z]{40}&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00097">97</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a277982a20927d0a56ed7c6c3818ee1af"></a><!-- doxytag: member="http&#45;server.c::GET_CHECK_QUOTA_REGEX" ref="a277982a20927d0a56ed7c6c3818ee1af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#a277982a20927d0a56ed7c6c3818ee1af">GET_CHECK_QUOTA_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/quota-check/.*&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00095">95</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a75e15467a8501dcfa00f48ff51f82a90"></a><!-- doxytag: member="http&#45;server.c::GET_FS_OBJ_ID_REGEX" ref="a75e15467a8501dcfa00f48ff51f82a90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#a75e15467a8501dcfa00f48ff51f82a90">GET_FS_OBJ_ID_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/fs-id-list/.*&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00099">99</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa2c2bbcd9447c8c9b4cd1e89d5022f71"></a><!-- doxytag: member="http&#45;server.c::GET_PROTO_PATH" ref="aa2c2bbcd9447c8c9b4cd1e89d5022f71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#aa2c2bbcd9447c8c9b4cd1e89d5022f71">GET_PROTO_PATH</a> = &quot;/protocol-<a class="el" href="block-tx-utils_8h.html#a1abe2c64ac9f8bc05bbb1719cad360f3">version</a>&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00093">93</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="af8eec15577a16dde0103d5621bf606cf"></a><!-- doxytag: member="http&#45;server.c::HEAD_COMMIT_OPER_REGEX" ref="af8eec15577a16dde0103d5621bf606cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#af8eec15577a16dde0103d5621bf606cf">HEAD_COMMIT_OPER_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/commit/HEAD&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00096">96</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="acdc8b2e33d61c23557d7e7563f00ef6f"></a><!-- doxytag: member="http&#45;server.c::obj_id" ref="acdc8b2e33d61c23557d7e7563f00ef6f" args="[40]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="http-server_8c.html#acdc8b2e33d61c23557d7e7563f00ef6f">obj_id</a>[40]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00089">89</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a48d5525cc0661b05873ab55417354ca7"></a><!-- doxytag: member="http&#45;server.c::obj_size" ref="a48d5525cc0661b05873ab55417354ca7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">guint32 <a class="el" href="http-server_8c.html#a48d5525cc0661b05873ab55417354ca7">obj_size</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00090">90</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa220aa9bfa38a52f7c855200d0fe67bb"></a><!-- doxytag: member="http&#45;server.c::OP_PERM_CHECK_REGEX" ref="aa220aa9bfa38a52f7c855200d0fe67bb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#aa220aa9bfa38a52f7c855200d0fe67bb">OP_PERM_CHECK_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/permission-check/.*&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00094">94</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="af7553a24748073ddd62bf1f28c81ed1f"></a><!-- doxytag: member="http&#45;server.c::POST_CHECK_BLOCK_REGEX" ref="af7553a24748073ddd62bf1f28c81ed1f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#af7553a24748073ddd62bf1f28c81ed1f">POST_CHECK_BLOCK_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/check-blocks&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00102">102</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8b36e7712d1d7a33e734adb204acd700"></a><!-- doxytag: member="http&#45;server.c::POST_CHECK_FS_REGEX" ref="a8b36e7712d1d7a33e734adb204acd700" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#a8b36e7712d1d7a33e734adb204acd700">POST_CHECK_FS_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/check-fs&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00101">101</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5c0e2b168fdd65e16a085320e8aaab4c"></a><!-- doxytag: member="http&#45;server.c::POST_PACK_FS_REGEX" ref="a5c0e2b168fdd65e16a085320e8aaab4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#a5c0e2b168fdd65e16a085320e8aaab4c">POST_PACK_FS_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/pack-fs&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00104">104</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5f5a1a8f7ed7fe67502314bedff2100c"></a><!-- doxytag: member="http&#45;server.c::POST_RECV_FS_REGEX" ref="a5f5a1a8f7ed7fe67502314bedff2100c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#a5f5a1a8f7ed7fe67502314bedff2100c">POST_RECV_FS_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/recv-fs&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00103">103</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab5d529b8fc16adebc41c46c9603ca2bd"></a><!-- doxytag: member="http&#45;server.c::PUT_COMMIT_INFO_REGEX" ref="ab5d529b8fc16adebc41c46c9603ca2bd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* <a class="el" href="http-server_8c.html#ab5d529b8fc16adebc41c46c9603ca2bd">PUT_COMMIT_INFO_REGEX</a> = &quot;^/repo/[\\da-z]{8}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{4}-[\\da-z]{12}/commit/[\\da-z]{40}&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Backups_2http-server_8c_source.html#l00098">98</a> of file <a class="el" href="Backups_2http-server_8c_source.html">http-server.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 19 2015 02:52:53 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
