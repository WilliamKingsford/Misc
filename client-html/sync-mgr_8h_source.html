<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: seafile-4.1.2/daemon/sync-mgr.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">seafile-4.1.2/daemon/sync-mgr.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="sync-mgr_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* -*- Mode: C; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- */</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="preprocessor">#ifndef SYNC_MGR_H</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#define SYNC_MGR_H</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span>
<a name="l00006"></a><a class="code" href="sync-mgr_8h.html#a5e6e7e83be8aa01a904165bf2bb7d27f">00006</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__SyncInfo.html">_SyncInfo</a> <a class="code" href="struct__SyncInfo.html">SyncInfo</a>;
<a name="l00007"></a><a class="code" href="sync-mgr_8h.html#af661206ce98d428a7ee77242c4a831c3">00007</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__SyncTask.html">_SyncTask</a> <a class="code" href="struct__SyncTask.html">SyncTask</a>;
<a name="l00008"></a>00008 
<a name="l00009"></a><a class="code" href="sync-mgr_8h.html#a6bf627498401cdef39cd424f055a6407">00009</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__SeafSyncManager.html">_SeafSyncManager</a> <a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a>;
<a name="l00010"></a><a class="code" href="sync-mgr_8h.html#ae7a28a5c634e94a777bd64f1d94dce42">00010</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__SeafSyncManagerPriv.html">_SeafSyncManagerPriv</a> <a class="code" href="struct__SeafSyncManagerPriv.html">SeafSyncManagerPriv</a>;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="keyword">struct </span><a class="code" href="structCcnetTimer.html">CcnetTimer</a>;
<a name="l00013"></a>00013 
<a name="l00014"></a><a class="code" href="struct__SyncInfo.html">00014</a> <span class="keyword">struct </span><a class="code" href="struct__SyncInfo.html">_SyncInfo</a> {
<a name="l00015"></a><a class="code" href="struct__SyncInfo.html#a18a9302a6bb2f4e1b8e67171c9664c8b">00015</a>     <span class="keywordtype">char</span>       <a class="code" href="struct__SyncInfo.html#a18a9302a6bb2f4e1b8e67171c9664c8b">repo_id</a>[41];     <span class="comment">/* the repo */</span>
<a name="l00016"></a><a class="code" href="struct__SyncInfo.html#a9e831740601198ad30ee08db5b64382a">00016</a>     <span class="keywordtype">char</span>       <a class="code" href="struct__SyncInfo.html#a9e831740601198ad30ee08db5b64382a">head_commit</a>[41]; <span class="comment">/* head commit on relay */</span>
<a name="l00017"></a><a class="code" href="struct__SyncInfo.html#a6b0407e7d6def63347532d7d73eb7c6b">00017</a>     <a class="code" href="struct__SyncTask.html">SyncTask</a>  *<a class="code" href="struct__SyncInfo.html#a6b0407e7d6def63347532d7d73eb7c6b">current_task</a>;
<a name="l00018"></a>00018 
<a name="l00019"></a><a class="code" href="struct__SyncInfo.html#ad0f77a2b8e799b3a0abc417fce88843a">00019</a>     gboolean   <a class="code" href="struct__SyncInfo.html#ad0f77a2b8e799b3a0abc417fce88843a">in_sync</a>;         <span class="comment">/* set to FALSE when sync state is DONE or ERROR */</span>
<a name="l00020"></a>00020 
<a name="l00021"></a><a class="code" href="struct__SyncInfo.html#a1fe909e4558f1c7a9fd3e83f0af4ddd3">00021</a>     gint       <a class="code" href="struct__SyncInfo.html#a1fe909e4558f1c7a9fd3e83f0af4ddd3">err_cnt</a>;
<a name="l00022"></a><a class="code" href="struct__SyncInfo.html#ad3f648faaee9de704066180f885be5e1">00022</a>     gboolean   <a class="code" href="struct__SyncInfo.html#ad3f648faaee9de704066180f885be5e1">deleted_on_relay</a>;
<a name="l00023"></a><a class="code" href="struct__SyncInfo.html#a35b97e9f978267101414813e1341e227">00023</a>     gboolean   <a class="code" href="struct__SyncInfo.html#a35b97e9f978267101414813e1341e227">branch_deleted_on_relay</a>;
<a name="l00024"></a><a class="code" href="struct__SyncInfo.html#a456a4baa8b89a5eaf4d122bafa43263a">00024</a>     gboolean   <a class="code" href="struct__SyncInfo.html#a456a4baa8b89a5eaf4d122bafa43263a">repo_corrupted</a>;
<a name="l00025"></a><a class="code" href="struct__SyncInfo.html#ad336cc9547233f87f2f2ca563ede01c9">00025</a>     gboolean   <a class="code" href="struct__SyncInfo.html#ad336cc9547233f87f2f2ca563ede01c9">need_fetch</a>;
<a name="l00026"></a><a class="code" href="struct__SyncInfo.html#aa4f36b0996cd2932a34dc42766e218ef">00026</a>     gboolean   <a class="code" href="struct__SyncInfo.html#aa4f36b0996cd2932a34dc42766e218ef">need_upload</a>;
<a name="l00027"></a><a class="code" href="struct__SyncInfo.html#aa66a7471e59d590a0f6d3cbd95fb2bd6">00027</a>     gboolean   <a class="code" href="struct__SyncInfo.html#aa66a7471e59d590a0f6d3cbd95fb2bd6">need_merge</a>;
<a name="l00028"></a>00028 };
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="keyword">enum</span> {
<a name="l00031"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da3c73047f0bdb59ed767efc67261354bb">00031</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da3c73047f0bdb59ed767efc67261354bb">SYNC_STATE_DONE</a>,
<a name="l00032"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89dad5ea812e07d2b3a88cc24f0aa48a9475">00032</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89dad5ea812e07d2b3a88cc24f0aa48a9475">SYNC_STATE_COMMIT</a>,
<a name="l00033"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89daa158c5b9c6636626f72c9aa67f003675">00033</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89daa158c5b9c6636626f72c9aa67f003675">SYNC_STATE_INIT</a>,
<a name="l00034"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da4d3da856442685e0c11e7b8d6da4ae7a">00034</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da4d3da856442685e0c11e7b8d6da4ae7a">SYNC_STATE_FETCH</a>,
<a name="l00035"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89daf15f2ef041660fd4bc9e1a7cd2b31adc">00035</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89daf15f2ef041660fd4bc9e1a7cd2b31adc">SYNC_STATE_MERGE</a>,
<a name="l00036"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89dadabb88743cd5d62f35d77d9ed28e6973">00036</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89dadabb88743cd5d62f35d77d9ed28e6973">SYNC_STATE_UPLOAD</a>,
<a name="l00037"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da6223e8d6f29cba71fedc0ceda4d6aca3">00037</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da6223e8d6f29cba71fedc0ceda4d6aca3">SYNC_STATE_ERROR</a>,
<a name="l00038"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da8e0121d3e9964268e71fd702733f2579">00038</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da8e0121d3e9964268e71fd702733f2579">SYNC_STATE_CANCELED</a>,
<a name="l00039"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da4bdd5ea7e9e244ed294244fb4b31924d">00039</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da4bdd5ea7e9e244ed294244fb4b31924d">SYNC_STATE_CANCEL_PENDING</a>,
<a name="l00040"></a><a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da454e120cc51f9bbf1a61c67300bc055b">00040</a>     <a class="code" href="sync-mgr_8h.html#a2970898e8a43ce21e1cc510d49f1b89da454e120cc51f9bbf1a61c67300bc055b">SYNC_STATE_NUM</a>,
<a name="l00041"></a>00041 };
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="keyword">enum</span> {
<a name="l00044"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55acfe12dd9d33d2be6be3551dc93588b0d">00044</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55acfe12dd9d33d2be6be3551dc93588b0d">SYNC_ERROR_NONE</a>,
<a name="l00045"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a50741a36b251030d0ae069d21738116d">00045</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a50741a36b251030d0ae069d21738116d">SYNC_ERROR_RELAY_OFFLINE</a>,
<a name="l00046"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55aea294bb5fc2d70b23da40a2d972e8a1d">00046</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55aea294bb5fc2d70b23da40a2d972e8a1d">SYNC_ERROR_UPGRADE_REPO</a>,
<a name="l00047"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a90ad16af281b8af2e4559452c21f48ea">00047</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a90ad16af281b8af2e4559452c21f48ea">SYNC_ERROR_RELAY_REMOVED</a>,
<a name="l00048"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55ab68c0dd66c5badb926892622b525b9ae">00048</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55ab68c0dd66c5badb926892622b525b9ae">SYNC_ERROR_NOT_LOGIN</a>,
<a name="l00049"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55aea2057a6ab1581e1d79fa81a3f44fb71">00049</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55aea2057a6ab1581e1d79fa81a3f44fb71">SYNC_ERROR_SERVICE_DOWN</a>,
<a name="l00050"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a6a98b81697cbbb8bcff96c1360f7ed01">00050</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a6a98b81697cbbb8bcff96c1360f7ed01">SYNC_ERROR_ACCESS_DENIED</a>,
<a name="l00051"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a4339be587e91d150d3289dce026b6b49">00051</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a4339be587e91d150d3289dce026b6b49">SYNC_ERROR_QUOTA_FULL</a>,
<a name="l00052"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a461a5ffea0714ff980112c23c2dae052">00052</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a461a5ffea0714ff980112c23c2dae052">SYNC_ERROR_PROC_PERM_ERR</a>,
<a name="l00053"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a180b83198b20ee2f2412619b9fd41600">00053</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a180b83198b20ee2f2412619b9fd41600">SYNC_ERROR_DATA_CORRUPT</a>,
<a name="l00054"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a9586a92b4288d476e0e3d8956352242c">00054</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a9586a92b4288d476e0e3d8956352242c">SYNC_ERROR_START_UPLOAD</a>,
<a name="l00055"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a84edb880000b2a73f03bf4f424a26525">00055</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a84edb880000b2a73f03bf4f424a26525">SYNC_ERROR_UPLOAD</a>,
<a name="l00056"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a66c8cfe8e07f2f0d6e7ae6d83575a9e6">00056</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a66c8cfe8e07f2f0d6e7ae6d83575a9e6">SYNC_ERROR_START_FETCH</a>,
<a name="l00057"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55aace54068bf03b79a8666d73a624a0dfb">00057</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55aace54068bf03b79a8666d73a624a0dfb">SYNC_ERROR_FETCH</a>,
<a name="l00058"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55acab29b78af67a6700738bfcec981d548">00058</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55acab29b78af67a6700738bfcec981d548">SYNC_ERROR_NOREPO</a>,
<a name="l00059"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55aac3a3d0eb6cb522cde2b064359b793c6">00059</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55aac3a3d0eb6cb522cde2b064359b793c6">SYNC_ERROR_REPO_CORRUPT</a>,
<a name="l00060"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55ae8badc64904d184e89af24606d61f42c">00060</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55ae8badc64904d184e89af24606d61f42c">SYNC_ERROR_COMMIT</a>,
<a name="l00061"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a3cb3d1dcf06dfbce5ddefebde300da42">00061</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a3cb3d1dcf06dfbce5ddefebde300da42">SYNC_ERROR_MERGE</a>,
<a name="l00062"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a0d1fb5ac07bf96d64db559d832fe759e">00062</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a0d1fb5ac07bf96d64db559d832fe759e">SYNC_ERROR_WORKTREE_DIRTY</a>,
<a name="l00063"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a2cbd24f8c6809692a56d71324d92db9b">00063</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a2cbd24f8c6809692a56d71324d92db9b">SYNC_ERROR_DEPRECATED_SERVER</a>,
<a name="l00064"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a4c33384a7322d166e639c0942f39989a">00064</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a4c33384a7322d166e639c0942f39989a">SYNC_ERROR_GET_SYNC_INFO</a>,   <span class="comment">/* for http sync */</span>
<a name="l00065"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55ad664b46fd1ffee9e6582fbf221334aba">00065</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55ad664b46fd1ffee9e6582fbf221334aba">SYNC_ERROR_FILES_LOCKED</a>,
<a name="l00066"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a3839a8ff16af7993849949da453d0c43">00066</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a3839a8ff16af7993849949da453d0c43">SYNC_ERROR_UNKNOWN</a>,
<a name="l00067"></a><a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a7d4d35b0843584d00238d4110e2bad8e">00067</a>     <a class="code" href="sync-mgr_8h.html#afa231099d07583c3ed0981e0bb665f55a7d4d35b0843584d00238d4110e2bad8e">SYNC_ERROR_NUM</a>,
<a name="l00068"></a>00068 };
<a name="l00069"></a>00069 
<a name="l00070"></a><a class="code" href="struct__SyncTask.html">00070</a> <span class="keyword">struct </span><a class="code" href="struct__SyncTask.html">_SyncTask</a> {
<a name="l00071"></a><a class="code" href="struct__SyncTask.html#a8848e06615a4fc1bc9c145f8a224fe19">00071</a>     <a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *<a class="code" href="struct__SyncTask.html#a8848e06615a4fc1bc9c145f8a224fe19">mgr</a>;
<a name="l00072"></a><a class="code" href="struct__SyncTask.html#abd93230b8c1da0d123ab2c73710f56cd">00072</a>     <a class="code" href="struct__SyncInfo.html">SyncInfo</a>        *<a class="code" href="struct__SyncTask.html#abd93230b8c1da0d123ab2c73710f56cd">info</a>;
<a name="l00073"></a><a class="code" href="struct__SyncTask.html#a956579282afe1f78871352ed31488946">00073</a>     <span class="keywordtype">char</span>            *<a class="code" href="struct__SyncTask.html#a956579282afe1f78871352ed31488946">dest_id</a>;
<a name="l00074"></a><a class="code" href="struct__SyncTask.html#aa761b3497876b4d08db90987bc6edbf3">00074</a>     gboolean         <a class="code" href="struct__SyncTask.html#aa761b3497876b4d08db90987bc6edbf3">is_manual_sync</a>;
<a name="l00075"></a><a class="code" href="struct__SyncTask.html#ad81fd3ba2de4b8792bd43b8e8a5998d8">00075</a>     gboolean         <a class="code" href="struct__SyncTask.html#ad81fd3ba2de4b8792bd43b8e8a5998d8">is_initial_commit</a>;
<a name="l00076"></a><a class="code" href="struct__SyncTask.html#a442ac2b31e670693c3f1ec595a158ae4">00076</a>     <span class="keywordtype">int</span>              <a class="code" href="struct__SyncTask.html#a442ac2b31e670693c3f1ec595a158ae4">state</a>;
<a name="l00077"></a><a class="code" href="struct__SyncTask.html#ad9f58b13e60cd60b461164617d8593d2">00077</a>     <span class="keywordtype">int</span>              <a class="code" href="struct__SyncTask.html#ad9f58b13e60cd60b461164617d8593d2">error</a>;
<a name="l00078"></a><a class="code" href="struct__SyncTask.html#a205ad78d2d7e9f477e1b4ddeb95d681a">00078</a>     <span class="keywordtype">char</span>            *<a class="code" href="struct__SyncTask.html#a205ad78d2d7e9f477e1b4ddeb95d681a">tx_id</a>;
<a name="l00079"></a><a class="code" href="struct__SyncTask.html#a49503a78f8c685ae2361ef400fabfb47">00079</a>     <span class="keywordtype">char</span>            *<a class="code" href="struct__SyncTask.html#a49503a78f8c685ae2361ef400fabfb47">token</a>;
<a name="l00080"></a><a class="code" href="struct__SyncTask.html#a33841f5faec8da91b45e035318276c2f">00080</a>     <span class="keyword">struct </span><a class="code" href="structCcnetTimer.html">CcnetTimer</a> *<a class="code" href="struct__SyncTask.html#a33841f5faec8da91b45e035318276c2f">commit_timer</a>;
<a name="l00081"></a>00081 
<a name="l00082"></a><a class="code" href="struct__SyncTask.html#a4f2d508226faddcf79be1f58bc11b781">00082</a>     gboolean         <a class="code" href="struct__SyncTask.html#a4f2d508226faddcf79be1f58bc11b781">server_side_merge</a>;
<a name="l00083"></a><a class="code" href="struct__SyncTask.html#af5500a94e3d4e76c70bf200265bddc21">00083</a>     gboolean         <a class="code" href="struct__SyncTask.html#af5500a94e3d4e76c70bf200265bddc21">uploaded</a>;
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="struct__SyncTask.html#a29f8510d0999c926b2723a443a57f007">00085</a>     gboolean         <a class="code" href="struct__SyncTask.html#a29f8510d0999c926b2723a443a57f007">http_sync</a>;
<a name="l00086"></a><a class="code" href="struct__SyncTask.html#aed3920db60e520cf749b53fa3b6caca8">00086</a>     <span class="keywordtype">int</span>              <a class="code" href="struct__SyncTask.html#aed3920db60e520cf749b53fa3b6caca8">http_version</a>;
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="struct__SyncTask.html#a519c9441b367566b1f7c6084c426b2e5">00088</a>     <a class="code" href="struct__SeafRepo.html">SeafRepo</a>        *<a class="code" href="struct__SyncTask.html#a519c9441b367566b1f7c6084c426b2e5">repo</a>;  <span class="comment">/* for convenience, only valid when in_sync. */</span>
<a name="l00089"></a>00089 };
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="keyword">struct </span><a class="code" href="struct__SeafileSession.html">_SeafileSession</a>;
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="struct__SeafSyncManager.html">00093</a> <span class="keyword">struct </span><a class="code" href="struct__SeafSyncManager.html">_SeafSyncManager</a> {
<a name="l00094"></a><a class="code" href="struct__SeafSyncManager.html#a15dbbff6ec86d385b4fbfcd5605b1112">00094</a>     <span class="keyword">struct </span><a class="code" href="struct__SeafileSession.html">_SeafileSession</a>   *<a class="code" href="struct__SeafSyncManager.html#a15dbbff6ec86d385b4fbfcd5605b1112">seaf</a>;
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="struct__SeafSyncManager.html#a3b638d371d53219f1169c85bdc716727">00096</a>     GHashTable *<a class="code" href="struct__SeafSyncManager.html#a3b638d371d53219f1169c85bdc716727">sync_infos</a>;
<a name="l00097"></a><a class="code" href="struct__SeafSyncManager.html#a9c8ce9cbb2868b95ac75a882bf565c87">00097</a>     <span class="keywordtype">int</span>         <a class="code" href="struct__SeafSyncManager.html#a9c8ce9cbb2868b95ac75a882bf565c87">n_running_tasks</a>;
<a name="l00098"></a><a class="code" href="struct__SeafSyncManager.html#a5097b95a3336e7828856aad73384c287">00098</a>     gboolean    <a class="code" href="struct__SeafSyncManager.html#a5097b95a3336e7828856aad73384c287">commit_job_running</a>;
<a name="l00099"></a><a class="code" href="struct__SeafSyncManager.html#a318c269683fe0c9b9acee8734765fa47">00099</a>     <span class="keywordtype">int</span>         <a class="code" href="struct__SeafSyncManager.html#a318c269683fe0c9b9acee8734765fa47">sync_interval</a>;
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="struct__SeafSyncManager.html#a623ff0c818f5d0d7da880cdba6700bce">00101</a>     GHashTable *<a class="code" href="struct__SeafSyncManager.html#a623ff0c818f5d0d7da880cdba6700bce">server_states</a>;
<a name="l00102"></a><a class="code" href="struct__SeafSyncManager.html#a6c8c0f36f8e44feabd6cd44d6a4f49c1">00102</a>     GHashTable *<a class="code" href="struct__SeafSyncManager.html#a6c8c0f36f8e44feabd6cd44d6a4f49c1">http_server_states</a>;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104     <span class="comment">/* Sent/recv bytes from all transfer tasks in this second.</span>
<a name="l00105"></a>00105 <span class="comment">     * Since we have http and non-http tasks, sync manager is</span>
<a name="l00106"></a>00106 <span class="comment">     * the only reasonable place to put these variables.</span>
<a name="l00107"></a>00107 <span class="comment">     */</span>
<a name="l00108"></a><a class="code" href="struct__SeafSyncManager.html#aae566549651ea69a0b37db631f0b9a32">00108</a>     gint             <a class="code" href="struct__SeafSyncManager.html#aae566549651ea69a0b37db631f0b9a32">sent_bytes</a>;
<a name="l00109"></a><a class="code" href="struct__SeafSyncManager.html#a0c2c72b3bff4c8c3d5b29717c06f9195">00109</a>     gint             <a class="code" href="struct__SeafSyncManager.html#a0c2c72b3bff4c8c3d5b29717c06f9195">recv_bytes</a>;
<a name="l00110"></a><a class="code" href="struct__SeafSyncManager.html#acf36129fa93b873ff6fdedf906ddd116">00110</a>     gint             <a class="code" href="struct__SeafSyncManager.html#acf36129fa93b873ff6fdedf906ddd116">last_sent_bytes</a>;
<a name="l00111"></a><a class="code" href="struct__SeafSyncManager.html#a85dcef85e0f40df799cbb76df7d23e46">00111</a>     gint             <a class="code" href="struct__SeafSyncManager.html#a85dcef85e0f40df799cbb76df7d23e46">last_recv_bytes</a>;
<a name="l00112"></a>00112     <span class="comment">/* Upload/download rate limits. */</span>
<a name="l00113"></a><a class="code" href="struct__SeafSyncManager.html#af27650b12e9237509a8b214808f18e21">00113</a>     gint             <a class="code" href="struct__SeafSyncManager.html#af27650b12e9237509a8b214808f18e21">upload_limit</a>;
<a name="l00114"></a><a class="code" href="struct__SeafSyncManager.html#a8ca07c4d618fb2c931b0fbc616a24a47">00114</a>     gint             <a class="code" href="struct__SeafSyncManager.html#a8ca07c4d618fb2c931b0fbc616a24a47">download_limit</a>;
<a name="l00115"></a>00115 
<a name="l00116"></a><a class="code" href="struct__SeafSyncManager.html#a98a501bc370a4c500ec8c0688896d9bb">00116</a>     <a class="code" href="struct__SeafSyncManagerPriv.html">SeafSyncManagerPriv</a> *<a class="code" href="struct__SeafSyncManager.html#a98a501bc370a4c500ec8c0688896d9bb">priv</a>;
<a name="l00117"></a>00117 };
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 <a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a>* <a class="code" href="sync-mgr_8c.html#a3a7160745ee3c4ccf7e25c5ac4a1c773">seaf_sync_manager_new</a> (<span class="keyword">struct</span> <a class="code" href="struct__SeafileSession.html">_SeafileSession</a> *<a class="code" href="seaf-daemon_8c.html#ae66636d1834d105bd51d89ff01acfe15">seaf</a>);
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <span class="keywordtype">int</span> <a class="code" href="sync-mgr_8c.html#a9778260aff4f730cf7b2da1fd2367e55">seaf_sync_manager_init</a> (<a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *mgr);
<a name="l00122"></a>00122 <span class="keywordtype">int</span> <a class="code" href="sync-mgr_8c.html#a6b94a19a3cc3b20b29af0ae1e42abe4b">seaf_sync_manager_start</a> (<a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *mgr);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 <span class="keywordtype">int</span>
<a name="l00125"></a>00125 <a class="code" href="sync-mgr_8c.html#aeea02ab15ddf4c48dd3227f30b791f37">seaf_sync_manager_add_sync_task</a> (<a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *mgr,
<a name="l00126"></a>00126                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *repo_id,
<a name="l00127"></a>00127                                  GError **error);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="keywordtype">void</span>
<a name="l00130"></a>00130 <a class="code" href="sync-mgr_8c.html#a0b90f2ae7c7e7a85ae97b7ade254572a">seaf_sync_manager_cancel_sync_task</a> (<a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *mgr,
<a name="l00131"></a>00131                                     <span class="keyword">const</span> <span class="keywordtype">char</span> *repo_id);
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <a class="code" href="struct__SyncInfo.html">SyncInfo</a> *
<a name="l00135"></a>00135 <a class="code" href="sync-mgr_8c.html#afb758dbde64ac4505ad259f95601d45e">seaf_sync_manager_get_sync_info</a> (<a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *mgr,
<a name="l00136"></a>00136                                  <span class="keyword">const</span> <span class="keywordtype">char</span> *repo_id);
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="keywordtype">int</span>
<a name="l00139"></a>00139 <a class="code" href="sync-mgr_8c.html#abe16c7da3482de138f5c6f48757ae022">seaf_sync_manager_disable_auto_sync</a> (<a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *mgr);
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="keywordtype">int</span>
<a name="l00142"></a>00142 <a class="code" href="sync-mgr_8c.html#ae0cb02ae35e27db0ba2010575d853630">seaf_sync_manager_enable_auto_sync</a> (<a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *mgr);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 <span class="keywordtype">int</span>
<a name="l00145"></a>00145 <a class="code" href="sync-mgr_8c.html#a68263f08a3a853d91f0314dce1e706b8">seaf_sync_manager_is_auto_sync_enabled</a> (<a class="code" href="struct__SeafSyncManager.html">SeafSyncManager</a> *mgr);
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 <span class="keyword">const</span> <span class="keywordtype">char</span> *
<a name="l00148"></a>00148 <a class="code" href="sync-mgr_8c.html#ae811eab4103ac4fc768be073c7847565">sync_error_to_str</a> (<span class="keywordtype">int</span> error);
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 <span class="keyword">const</span> <span class="keywordtype">char</span> *
<a name="l00151"></a>00151 <a class="code" href="sync-mgr_8c.html#ae2fef6674a65dc768d3a1c0c8a760020">sync_state_to_str</a> (<span class="keywordtype">int</span> state);
<a name="l00152"></a>00152 <span class="preprocessor">#endif</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 19 2015 02:52:50 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
